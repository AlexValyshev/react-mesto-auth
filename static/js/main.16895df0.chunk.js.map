{"version":3,"sources":["images/logo-mesto.svg","images/pencil-avatar.svg","images/login-ok.svg","images/login-error.svg","images/iv-custo.jpg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/formValidation.js","utils/utils.js","components/PopupWithForm.js","components/Loader.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/RegisterWithForm.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/PopupWithLogged.js","components/LoginPopup.js","components/ErrorLoginPopup.js","utils/api.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","emailHeader","onSignOut","className","src","Logo","alt","path","to","exact","onClick","CurrentUserContext","React","createContext","Card","memo","card","onCardClick","onTrashClick","onCardLike","currentUser","useContext","isOwn","owner","_id","trashButtonClassName","isLiked","likes","some","i","likeButtonClassName","type","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","PencilAvatar","about","map","card_id","key","Footer","Date","getFullYear","ImagePopup","onClose","onCloseOverlay","popupViewContainer","useRef","ref","onLoad","evt","current","width","target","offsetWidth","height","offsetHeight","FormValidator","data","form","this","_form","_inputSelector","inputSelector","_submitButtonSelector","submitButtonSelector","_inactiveButtonClass","inactiveButtonClass","_inputErrorClass","inputErrorClass","_errorClass","errorClass","addEventListener","preventDefault","_setEventListeners","_allInput","Array","from","querySelectorAll","_button","querySelector","_findAllInputs","forEach","input","_input","_checkInputValidity","_toggleSubmitButton","_hideInputError","validity","valid","_showInputError","inputError","id","classList","add","textContent","validationMessage","remove","_containsInvalidInput","setAttribute","removeAttribute","validationConfig","validationRegConfig","PopupWithForm","title","isOpen","loader","children","onSubmit","useState","formValid","setFormValid","useEffect","formValidation","enableValidation","resetForm","reset","action","method","noValidate","Loader","isLoad","EditProfilePopup","onUpdateUser","setName","description","setDescription","placeholder","minLength","maxLength","required","value","onChange","EditAvatarPopup","onUpdateAvatar","currentAvatar","AddPlacePopup","currentName","currentLink","DeleteCardPopup","onCardDelete","RegisterWithForm","onRegLog","isLoggedIn","email","setEmail","password","setPassword","Register","onRegister","Login","onLogin","ProtectedRoute","Component","component","props","PopupWithLogged","loginOk","ErrorLoginPopup","loginError","api","baseUrl","headers","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","resFetch","_promises","getUserInfo","getInitialCards","all","body","JSON","stringify","itemId","cardid","removeLikeCard","addLikeCard","authorization","BASE_URL","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddImagePopupOpen","setAddImagePopupOpen","isChangeAvatarPopupOpen","setChangeAvatarPopupOpen","setIsOpen","selectedCard","setSelectedCard","isTrashPopupOpen","setTrashPopupOpen","setCards","setLoad","deleteCard","setDeleteCard","initialUserInfo","UserAvatar","setCurrentUser","setLoggedIn","isLoginOkPopupOpen","setChangeLoginOkPopupOpen","isLoginErrorPopupOpen","setChangeLoginErrorPopupOpen","history","useHistory","setEmailHeader","handleLoginError","closeAllPopups","setTimeout","handleOverlayClose","currentTarget","handleEscClose","getInitialInfo","userInfo","initialCards","catch","err","console","log","jwt","localStorage","getItem","Authorization","auth","push","removeItem","document","removeEventListener","Provider","changeLikeStatus","newCard","newCards","item","setItem","token","setUserInfo","addNewCard","setUserAvatar","newAvatar","filter","LoginPopup","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.16895df0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-mesto.e889e45f.svg\";","module.exports = __webpack_public_path__ + \"static/media/pencil-avatar.34c46850.svg\";","module.exports = __webpack_public_path__ + \"static/media/login-ok.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/login-error.4072126c.svg\";","module.exports = __webpack_public_path__ + \"static/media/iv-custo.610cd79a.jpg\";","import React from 'react';\nimport { Link, Route } from 'react-router-dom';\nimport Logo from '../images/logo-mesto.svg';\n\nfunction Header({ emailHeader, onSignOut }) {\n  return (\n    <header className=\"header page__container\">\n      <img className=\"header__logo\" src={Logo} alt=\"Логотип Mesto-Russia\" />\n      <Route path=\"/sign-up\">\n        <Link to=\"/sign-in\" className=\"header__logged header__logged_color\">Войти</Link>\n      </Route>\n      <Route path=\"/sign-in\">\n        <Link to=\"/sign-up\" className=\"header__logged header__logged_color\">Регистрация</Link>\n      </Route>\n      <Route exact path=\"/\">\n        <div className=\"header__login\">\n          <p className=\"header__email\">{emailHeader}</p>\n          <Link to=\"/sign-in\" className=\"header__logged\" onClick={onSignOut}>Выйти</Link>\n        </div>\n      </Route>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\nexport default CurrentUserContext;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nconst Card = React.memo(({\n  card, onCardClick, onTrashClick, onCardLike,\n}) => {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const trashButtonClassName = (`${isOwn ? 'photo-place__trash photo-place__trash_visible' : 'photo-place__trash'}`);\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const likeButtonClassName = (`${isLiked ? 'photo-place__like photo-place__like_active' : 'photo-place__like'}`);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onTrashClick(card);\n  }\n\n  return (\n    <li className=\"photo-place__element\">\n      <button type=\"button\" className={trashButtonClassName}\n        onClick={handleDeleteClick} />\n      <img src={card.link} alt={card.name} className=\"photo-place__image\" onClick={handleClick} />\n      <div className=\"photo-place__group\">\n        <h2 className=\"photo-place__title\">{card.name}</h2>\n        <div className=\"photo-place__group-like\">\n          <button type=\"button\" className={likeButtonClassName} onClick={handleLikeClick} />\n          <p className=\"photo-place__number-likes\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n});\n\nexport default Card;\n","import React from 'react';\nimport PencilAvatar from '../images/pencil-avatar.svg';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main({\n  onEditProfile, onAddPlace, onEditAvatar, onCardClick, onTrashClick, cards, onCardLike,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile page__container\">\n        <div className=\"profile__avatar\" onClick={onEditAvatar}\n          style={{ backgroundImage: `url(${currentUser.avatar})` }} >\n          <img className=\"profile__pencil\" src={PencilAvatar} alt=\"Значок редактирования профиля\" />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button type=\"button\" className=\"profile__editbutton\" onClick={onEditProfile} />\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__addbutton\" onClick={onAddPlace} />\n      </section>\n\n      <section className=\"photo-place page__container\">\n        <ul className=\"photo-place__elements\">\n          {cards.map((card, card_id) => <Card key={card_id} card={card} onCardClick={onCardClick}\n              onTrashClick={onTrashClick} onCardLike={onCardLike} />)}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__container\">\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useRef } from 'react';\n\nfunction ImagePopup({ card, onClose, onCloseOverlay }) {\n  const popupViewContainer = useRef(null);\n  return (\n    <section className={card.link ? 'popup popup_opened popup__change-background' : 'popup'} onClick={onCloseOverlay}>\n      <div className={card.link ? 'popup__container popup__container-view popup__container_opened'\n        : 'popup__container popup__container-view'}>\n        <figure className=\"popup__view\" ref={popupViewContainer}>\n          {card.link\n            && <img className=\"popup__image\"\n              src={card.link} alt={card.name}\n              onLoad={(evt) => {\n                popupViewContainer.current.style.width = `${evt.target.offsetWidth}px`;\n                popupViewContainer.current.style.height = `${evt.target.offsetHeight}px`;\n              }\n              } />}\n          <figcaption className=\"popup__caption\">{card.name}</figcaption>\n        </figure>\n        <button type=\"button\" className=\"popup__close popup__close_view\" onClick={onClose} />\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","/* eslint-disable lines-between-class-members */\nexport default class FormValidator {\n  constructor(data, form) {\n    this._form = form;\n    this._inputSelector = data.inputSelector;\n    this._submitButtonSelector = data.submitButtonSelector;\n    this._inactiveButtonClass = data.inactiveButtonClass;\n    this._inputErrorClass = data.inputErrorClass;\n    this._errorClass = data.errorClass;\n  }\n\n  // Функция валидации формы\n  enableValidation() {\n    this._form.addEventListener('submit', (evt) => {\n      evt.preventDefault();\n    });\n    this._setEventListeners();\n  }\n\n  // Функция поиска всех полей формы и кнопки сабмита\n  _findAllInputs() {\n    this._allInput = Array.from(this._form.querySelectorAll(this._inputSelector));\n    this._button = this._form.querySelector(this._submitButtonSelector);\n  }\n  // Функция установки слушателей на все поля в форме.\n  _setEventListeners() {\n    this._findAllInputs();\n    this._allInput.forEach((input) => {\n      input.addEventListener('input', () => {\n        this._input = input;\n        this._checkInputValidity();\n        this._toggleSubmitButton();\n      });\n    });\n  }\n\n  // функция очистки форм от ошибок если при их наличии происходит закрытие попапа нажатием на\n  // \"Esc\", \"Оверлей\" или \"Крестик\".\n  resetForm() {\n    this._findAllInputs();\n    this._allInput.forEach((input) => {\n      this._input = input;\n      this._hideInputError();\n      this._toggleSubmitButton();\n    });\n  }\n\n  // Функция валидации полей формы.\n  _checkInputValidity() {\n    if (!this._input.validity.valid) {\n      this._showInputError();\n    } else {\n      this._hideInputError();\n    }\n  }\n\n  // Функция добавления и стилизации ошибки, при невалидности поля формы.\n  _showInputError() {\n    const inputError = this._form.querySelector(`#${this._input.id}-error`);\n    this._input.classList.add(this._inputErrorClass);\n    inputError.textContent = this._input.validationMessage;\n    inputError.classList.add(this._errorClass);\n  }\n\n  // Функция удаления стилизации и ошибки, при валидности поля формы.\n  _hideInputError() {\n    const inputError = this._form.querySelector(`#${this._input.id}-error`);\n    this._input.classList.remove(this._inputErrorClass);\n    inputError.classList.remove(this._errorClass);\n    inputError.textContent = '';\n  }\n\n  // Функция переключения кнопки.\n  _toggleSubmitButton() {\n    if (this._containsInvalidInput(this._allInput)) {\n      this._button.classList.add(this._inactiveButtonClass);\n      this._button.setAttribute('disabled', true);\n    } else {\n      this._button.classList.remove(this._inactiveButtonClass);\n      this._button.removeAttribute('disabled');\n    }\n  }\n\n  // Функция проверки наличия невалидных полей в форме.\n  _containsInvalidInput() {\n    return this._allInput.some((input) => !input.validity.valid);\n  }\n}\n","export const validationConfig = ({\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__button',\n  inactiveButtonClass: 'popup__button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error_visible',\n});\n\nexport const validationRegConfig = ({\n  inputSelector: '.register__input',\n  submitButtonSelector: '.register__button',\n  inactiveButtonClass: 'register__button_disabled',\n  inputErrorClass: 'register__input_type_error',\n  errorClass: 'register__error_visible',\n});\n","import React from 'react';\nimport FormValidator from '../utils/formValidation';\nimport { validationConfig } from '../utils/utils';\n\nfunction PopupWithForm({\n  title, name, isOpen, loader, onClose, children, onSubmit, onCloseOverlay,\n}) {\n  const form = React.useRef(null);\n  const [formValid, setFormValid] = React.useState(null);\n\n  React.useEffect(() => {\n    const formValidation = new FormValidator(validationConfig, form.current);\n    formValidation.enableValidation();\n    setFormValid(formValidation);\n  }, []);\n\n  React.useEffect(() => {\n    isOpen ? formValid.resetForm() : form.current.reset();\n  }, [formValid, isOpen]);\n\n  return (\n    <section className={isOpen ? 'popup popup_opened' : 'popup'}\n      onClick={onCloseOverlay}>\n      <div className={isOpen ? `popup__container popup__container-form popup__container_${name}\n            popup__container_opened ` : `popup__container popup__container-form popup__container_${name}`}>\n        <form name={`form-${name}`} action=\"#\" method=\"post\"\n          onSubmit={onSubmit}\n          className={`popup__form popup__form_${name}`}\n          noValidate\n          ref={form}>\n          <h3 className=\"popup__form-heading\">{title}</h3>\n          {children}\n          <button className={`popup__button popup__button-text popup__button_save-${name}`} type=\"submit\">\n            {loader}\n          </button>\n        </form>\n        <button type=\"button\" className={`popup__close popup__close_container-${name}`} onClick={onClose} />\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction Loader({ isLoad }) {\n  return (\n    <>\n      <p className={`popup__button-text ${isLoad && 'popup__button-text_disabled'}`} >Сохранить </p>\n      <p className={`popup__button-text ${!isLoad && 'popup__button-text_disabled'}`}>Сохранение...</p>\n    </>\n  );\n}\n\nexport default Loader;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport Loader from './Loader';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({\n  isOpen, onClose, onUpdateUser, onCloseOverlay, isLoad,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleJobChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [isOpen, currentUser]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm title='Редактировать профиль' name='profile' loader={<Loader isLoad={isLoad} />}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay} >\n      <fieldset className=\"popup__info\">\n        <input className=\"popup__input popup__input_name\" type=\"text\" id=\"name-input\" name=\"name\"\n          placeholder=\"Имя\" minLength='2' maxLength=\"40\" required\n          value={name}\n          onChange={handleNameChange} />\n        <span id=\"name-input-error\" className=\"popup__error\" />\n        <input className=\"popup__input popup__input_job\" type=\"text\" id=\"job-input\" name=\"job\"\n          placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required\n          value={description}\n          onChange={handleJobChange} />\n        <span id=\"job-input-error\" className=\"popup__error\" />\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport Loader from './Loader';\n\nfunction EditAvatarPopup({\n  isOpen, onClose, onUpdateAvatar, onCloseOverlay, isLoad,\n}) {\n  const currentAvatar = React.useRef(null);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: currentAvatar.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm title='Обновить аватар' name='avatar'\n      loader={<Loader isLoad={isLoad} />}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}>\n      <fieldset className=\"popup__info\" >\n        <input className=\"popup__input popup__input_avatar\" type=\"url\" id=\"avatar-input\" name=\"avatar\"\n          placeholder=\"Ссылка на новый аватар\" required ref={currentAvatar} />\n        <span id=\"avatar-input-error\" className=\"popup__error\" />\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport Loader from './Loader';\n\nfunction AddPlacePopup({\n  isOpen, onClose, onAddPlace, onCloseOverlay, isLoad,\n}) {\n  const currentName = React.useRef('');\n  const currentLink = React.useRef('');\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: currentName.current.value,\n      link: currentLink.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm title='Новое место' name='cards' loader={<Loader isLoad={isLoad} />}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}>\n      <fieldset className=\"popup__info\">\n        <input className=\"popup__input popup__input_card-name\" type=\"text\" id=\"card-input\" name=\"card\"\n          placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required\n          ref={currentName} />\n        <span id=\"card-input-error\" className=\"popup__error\" />\n        <input className=\"popup__input popup__input_link\" type=\"url\" id=\"link-input\" name=\"link\"\n          placeholder=\"Сссылка на картинку\" required\n          ref={currentLink} />\n        <span id=\"link-input-error\" className=\"popup__error\" />\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nconst DeleteCardPopup = ({\n  isOpen, onClose, card, onCardDelete, onCloseOverlay,\n}) => {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onCardDelete(card);\n  }\n\n  return (\n    <PopupWithForm title='Вы уверены?' name='trash' loader='Да'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay} />\n  );\n};\n\nexport default DeleteCardPopup;\n","import React from 'react';\nimport FormValidator from '../utils/formValidation';\nimport { validationRegConfig } from '../utils/utils';\n\nfunction RegisterWithForm({\n  title, name, children, isLoggedIn, onRegLog,\n}) {\n  const form = React.useRef(null);\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  React.useEffect(() => {\n    const formValidation = new FormValidator(validationRegConfig, form.current);\n    formValidation.enableValidation();\n  }, []);\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onRegLog(password, email);\n  }\n\n  return (\n    <section className=\"register\">\n      <h2 className=\"register__welcome\">{name}</h2>\n      <form action=\"#\" method=\"post\"\n        onSubmit={handleSubmit}\n        className=\"register__form\"\n        noValidate\n        ref={form}>\n        <input className=\"register__input register__input_name\" type=\"email\" id=\"email-input\" name=\"email\"\n          placeholder=\"Email\" required\n          value={email}\n          onChange={handleEmailChange} />\n        <span id=\"email-input-error\" className=\"register__error\" />\n        <input className=\"register__input register__input_password\" type=\"password\" id=\"password-input\" name=\"password\"\n          placeholder=\"Пароль\" minLength=\"4\" maxLength=\"20\" required\n          value={password}\n          onChange={handlePasswordChange} />\n        <span id=\"password-input-error\" className=\"register__error\" />\n        <button className=\"register__button register__button-text\" type=\"submit\" >\n          {title}\n        </button>\n      </form>\n      {children}\n    </section>\n  );\n}\n\nexport default RegisterWithForm;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport RegisterWithForm from './RegisterWithForm';\n\nfunction Register({ isLoggedIn, onRegister }) {\n  return (\n    <RegisterWithForm title='Регистрация' name='Зарегистрироваться' isLoggedIn={isLoggedIn} onRegLog={onRegister} >\n      <div className=\"register__signin\">\n        <p className=\"register__reg\">Уже зарегистрированы?</p>\n        <Link to=\"sign-in\" className=\"register__link\">Войти</Link>\n      </div>\n    </RegisterWithForm>\n  );\n}\n\nexport default Register;\n","import React from 'react';\nimport RegisterWithForm from './RegisterWithForm';\n\nfunction Login({ isLoggedIn, onLogin }) {\n  return (\n    <RegisterWithForm title='Вход' name='Войти' isLoggedIn={isLoggedIn} onRegLog={onLogin}>\n    </RegisterWithForm>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({\n  component: Component, ...props\n}) => (\n    <Route>\n      {\n        () => (props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />)\n      }\n    </Route>\n);\n\nexport default ProtectedRoute;\n","import React from 'react';\n\nfunction PopupWithLogged({\n  name, isOpen, onClose, children, onCloseOverlay,\n}) {\n  return (\n    <section className={isOpen ? 'popup popup_opened' : 'popup'}\n      onClick={onCloseOverlay}>\n      <div className={isOpen ? 'popup__container popup__container_log popup__container_opened'\n        : 'popup__container popup__container_log'}>\n        {children}\n        <button type=\"button\" className=\"popup__close\" onClick={onClose} />\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithLogged;\n","import React from 'react';\nimport loginOk from '../images/login-ok.svg';\nimport PopupWithLogged from './PopupWithLogged';\n\nfunction Login({ isOpen, onClose, onCloseOverlay }) {\n  return (\n    <PopupWithLogged name='login'\n    isOpen={isOpen}\n    onClose={onClose}\n      onCloseOverlay={onCloseOverlay}>\n      <img className=\"popup__login-image\" src={loginOk} alt=\"Значок галочка, успешная авторизация\" />\n      <p className=\"popup__logged\">Вы успешно зарегистрировались!</p>\n    </PopupWithLogged>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport loginError from '../images/login-error.svg';\nimport PopupWithLogged from './PopupWithLogged';\n\nfunction ErrorLoginPopup({ isOpen, onClose, onCloseOverlay }) {\n  return (\n    <PopupWithLogged name='error-login'\n      isOpen={isOpen}\n      onClose={onClose}\n      onCloseOverlay={onCloseOverlay}>\n      <img className=\"popup__login-image\" src={loginError} alt=\"Значок крест, ошибка авторизации\" />\n      <p className=\"popup__logged\">\n        Что-то пошло не так!\n        Попробуйте ещё раз.</p>\n    </PopupWithLogged>\n  );\n}\n\nexport default ErrorLoginPopup;\n","/* eslint-disable import/prefer-default-export */\n/* eslint-disable prefer-promise-reject-errors */\n/* eslint-disable class-methods-use-this */\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  resFetch(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() { // Запрос на загрузку данных пользователя\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    })\n      .then(this.resFetch);\n  }\n\n  getInitialCards() { // Запрос на загрузку карточек\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    })\n      .then(this.resFetch);\n  }\n\n  getInitialInfo() {\n    this._promises = [this.getUserInfo(), this.getInitialCards()];\n    return Promise.all(this._promises);\n  }\n\n  setUserInfo({ name, about }) { // Запрос на обновление данных пользователя\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: `${name}`,\n        about: `${about}`,\n      }),\n    })\n      .then(this.resFetch);\n  }\n\n  addNewCard({ name, link }) { // Запрос на добавление новой карточки\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: `${name}`,\n        link: `${link}`,\n      }),\n    })\n      .then(this.resFetch);\n  }\n\n  deleteCard(itemId) { // Запрос на удаление карточки\n    return fetch(`${this._baseUrl}/cards/${itemId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this.resFetch);\n  }\n\n  setUserAvatar({ avatar }) { // Запрос на изменение аватара пользователя\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: `${avatar}`,\n      }),\n    })\n      .then(this.resFetch);\n  }\n\n  addLikeCard(itemId) { // Запрос на установку лайка\n    return fetch(`${this._baseUrl}/cards/likes/${itemId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then(this.resFetch);\n  }\n\n  removeLikeCard(itemId) { // Запрос на снятие лайка\n    return fetch(`${this._baseUrl}/cards/likes/${itemId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this.resFetch);\n  }\n\n  changeLikeStatus(cardid, isLiked) { // Запрос на изменение лайка\n    if (isLiked) {\n      return this.removeLikeCard(cardid);\n    }\n    return this.addLikeCard(cardid);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  headers: {\n    authorization: 'cede3324-4ffe-44e5-b1e3-3ccfef967867',\n    'Content-Type': 'application/json',\n  },\n});\n","/* eslint-disable prefer-promise-reject-errors */\nexport const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction resFetch(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nexport function register(password, email) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ password, email }),\n  })\n    .then(resFetch);\n}\n\nexport function login(password, email) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ password, email }),\n  })\n    .then(resFetch);\n}\n\nexport function tokenValid(jwt) {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${jwt}`,\n    },\n  })\n    .then(resFetch);\n  // .then((res) => res.json())\n  // .catch((err) => {\n  //   console.log(err);\n  // });\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport {\n  Route, Switch, useHistory,\n} from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport LoginPopup from './LoginPopup';\nimport ErrorLoginPopup from './ErrorLoginPopup';\nimport { api } from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport UserAvatar from '../images/iv-custo.jpg';\nimport * as auth from '../utils/auth';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddImagePopupOpen, setAddImagePopupOpen] = React.useState(false);\n  const [isChangeAvatarPopupOpen, setChangeAvatarPopupOpen] = React.useState(false);\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isTrashPopupOpen, setTrashPopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [isLoad, setLoad] = React.useState(false);\n  const [deleteCard, setDeleteCard] = React.useState({});\n  const initialUserInfo = {\n    name: 'Жак-Ив Кусто',\n    about: 'Исследователь океана',\n    avatar: UserAvatar,\n  };\n  const [currentUser, setCurrentUser] = React.useState(initialUserInfo);\n  const [isLoggedIn, setLoggedIn] = React.useState(false);\n  const [isLoginOkPopupOpen, setChangeLoginOkPopupOpen] = React.useState(false);\n  const [isLoginErrorPopupOpen, setChangeLoginErrorPopupOpen] = React.useState(false);\n  const history = useHistory();\n  const [emailHeader, setEmailHeader] = React.useState(' ');\n\n  function handleEditAvatarClick() {\n    setChangeAvatarPopupOpen(true);\n    setIsOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n    setIsOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddImagePopupOpen(true);\n    setIsOpen(true);\n  }\n\n  function handleTrashClick(card) {\n    setTrashPopupOpen(true);\n    setIsOpen(true);\n    setDeleteCard(card);\n  }\n\n  function handleLoginError() {\n    setChangeLoginErrorPopupOpen(true);\n    setIsOpen(true);\n  }\n\n  function handleLoginOk() {\n    setChangeLoginOkPopupOpen(true);\n    setIsOpen(true);\n  }\n\n  function closeAllPopups() {\n    setChangeAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddImagePopupOpen(false);\n    setTrashPopupOpen(false);\n    setChangeLoginOkPopupOpen(false);\n    setChangeLoginErrorPopupOpen(false);\n    setSelectedCard({});\n    setTimeout(setLoad, 1000);\n    setDeleteCard({});\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  React.useEffect(() => {\n    api\n      .getInitialInfo() // Загрузка карточек и информации о пользователе.\n      .then(([userInfo, initialCards]) => {\n        setCurrentUser(userInfo);\n        setCards(initialCards);\n      })\n      .catch((err) => {\n        console.log(err); // Выведем ошибку в консоль\n      });\n  }, []);\n\n  function handleCardLike(card) { // Запрос на установку лайка и дизлайка\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((item) => ((item._id === card._id) ? newCard : item));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err); // Выведем ошибку в консоль\n      });\n  }\n\n  function handleCardDelete() { // Запрос на удаление карточки.\n    api\n      .deleteCard(deleteCard._id)\n      .then((res) => {\n        const newCards = cards.filter((item) => item._id !== deleteCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err); // Выведем ошибку в консоль\n      });\n  }\n\n  function handleUpdateUser(onUpdateUser) { // Запрос на обновление данных пользователя.\n    setLoad(true);\n    api\n      .setUserInfo(onUpdateUser)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        setTimeout(closeAllPopups, 500);\n      })\n      .catch((err) => {\n        console.log(err); // Выведем ошибку в консоль\n      });\n  }\n\n  function handleUpdateAvatar(onUpdateAvatar) { // Запрос на обновление аватара пользователя.\n    setLoad(true);\n    api\n      .setUserAvatar(onUpdateAvatar)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        setTimeout(closeAllPopups, 500);\n      })\n      .catch((err) => {\n        console.log(err); // Выведем ошибку в консоль\n      });\n  }\n\n  function handleAddPlaceSubmit(onAddPlace) { // Запрос на добавление новой карточки.\n    setLoad(true);\n    api\n      .addNewCard(onAddPlace)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        setTimeout(closeAllPopups, 500);\n      })\n      .catch((err) => {\n        console.log(err); // Выведем ошибку в консоль\n      });\n  }\n\n  function onRegister(password, email) {\n    auth.register(password, email)\n      .then((data) => {\n        console.log(data);\n        history.push('/sign-in');\n      })\n      .catch((err) => {\n        handleLoginError();\n        console.log(err);\n      });\n  }\n\n  function onLogin(password, email) {\n    auth.login(password, email)\n      .then((data) => {\n        console.log(data);\n        setEmailHeader(email);\n        localStorage.setItem('token', data.token);\n        setLoggedIn(true);\n        handleLoginOk();\n        history.push('/');\n      })\n      .catch((err) => {\n        handleLoginError();\n        console.log(err);\n      });\n  }\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('token');\n    if (jwt) {\n      auth.tokenValid(jwt)\n        .then((res) => {\n          console.log('Токен валидный');\n          setEmailHeader(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        })\n        .catch((err) => {\n          console.log(err);\n          handleLoginError();\n          localStorage.removeItem('token');\n          history.push('/sign-in');\n        });\n    }\n  }, []);\n\n  function onSignOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    setEmailHeader(' ');\n  }\n\n  function handleOverlayClose(evt) {\n    if (evt.target === evt.currentTarget) {\n      closeAllPopups();\n    }\n  }\n\n  function handleEscClose(evt) {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('keydown', handleEscClose);\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n    };\n  }, [handleEscClose]);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header isLoggedIn={isLoggedIn} emailHeader={emailHeader} onSignOut={onSignOut} />\n        <Switch>\n          <ProtectedRoute exact path=\"/\"\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onTrashClick={handleTrashClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            isLoggedIn={isLoggedIn}\n          />\n          <Route path=\"/sign-up\">\n            <Register isLoggedIn={isLoggedIn} onRegister={onRegister} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login isLoggedIn={isLoggedIn} onLogin={onLogin} />\n          </Route>\n        </Switch>\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen ? isOpen : false}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          onCloseOverlay={handleOverlayClose}\n          isLoad={isLoad} />\n\n        <AddPlacePopup isOpen={isAddImagePopupOpen ? isOpen : false}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          onCloseOverlay={handleOverlayClose}\n          isLoad={isLoad} />\n\n        <EditAvatarPopup isOpen={isChangeAvatarPopupOpen ? isOpen : false}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          onCloseOverlay={handleOverlayClose}\n          isLoad={isLoad} />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}\n          onCloseOverlay={handleOverlayClose} />\n\n        <DeleteCardPopup isOpen={isTrashPopupOpen ? isOpen : false}\n          onClose={closeAllPopups}\n          card={selectedCard}\n          onCardDelete={handleCardDelete}\n          onCloseOverlay={handleOverlayClose} />\n\n        <LoginPopup isOpen={isLoginOkPopupOpen ? isOpen : false}\n          onClose={closeAllPopups}\n          onCloseOverlay={handleOverlayClose} />\n\n        <ErrorLoginPopup isOpen={isLoginErrorPopupOpen ? isOpen : false}\n          onClose={closeAllPopups}\n          onCloseOverlay={handleOverlayClose} />\n\n      </CurrentUserContext.Provider>\n      {isLoggedIn && <Footer />}\n    </div >\n  );\n}\n\nexport default App;\n","/* eslint-disable no-param-reassign */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}